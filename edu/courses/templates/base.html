{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>
<body>
    <div id="header">
        <a href="/" class="logo">EduCa</a>
        <ul class="menu">
            {% if request.user.is_authenticated %}
            <li>
                <form action="{% url 'logout' %}" method="post">
                    <button type="submit">Sign out</button>
                    {% csrf_token %}
                </form>
            </li>
            {% else %}
            <li>
                <a href="{% url 'login' %}">Sign in</a>
            </li>
            {% endif %}
        </ul>
    </div>
    {% if request.user.is_authenticated %}
    <button
        id="assistant-unhide"
        class="assistant-unhide"
        type="button"
        aria-label="Show AI assistant"
        aria-controls="assistant-panel"
        aria-expanded="true"
    >
        AI
    </button>
    <div id="assistant-panel" class="assistance">
        {% block ai %}
            {% include "assistant/llm.html" %}
        {% endblock %}
    </div>
    {% endif %}
    <div id="content">
        {% block content %}{% endblock %}
    </div>
    {% block include_js %}{% endblock %}
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            // DOM loaded
            {% block domready %} {% endblock %}
        })
    </script>
</body>
</html>
